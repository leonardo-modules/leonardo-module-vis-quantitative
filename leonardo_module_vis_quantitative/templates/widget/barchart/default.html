{% extends widget.get_base_template %}

{% block content %}
<div id="barchart_{{ widget.fe_identifier }}"><svg></svg></div>
<script type="text/javascript">
  $(function(){
    loadResource({src:"{{STATIC_URL}}templates/widget/barchart/barchart.js",callback:
      leonardo.charts.barchart.createBarchart.bind(null,{
        chartSelector:"#barchart_{{ widget.fe_identifier }} svg",
        containerSelector:"#{{ widget.fe_identifier }}",
        url: "/data/data",
        updateInterval:5000})
    });
  }); 
</script>
{% endblock %}
